FUNCTION read_input : Bitstream
VAR_INPUT
	in : STRING[4096];
END_VAR
END_FUNCTION

FUNCTION assert_str : BOOL
VAR_INPUT
	left,right : STRING[4096];
END_VAR
END_FUNCTION

FUNCTION assert_dint : BOOL
VAR_INPUT
	left,right : DINT;
END_VAR
END_FUNCTION

FUNCTION parse_stream : DINT
VAR_INPUT
	in : REF_TO Bitstream;
END_VAR
END_FUNCTION

FUNCTION tests : DINT
	printf('D2FE28 : %d',assert_string(read_input('D2FE28'),'110100101111111000101000'));
	printf('38006F45291200 : %d',assert_string(read_input('38006F45291200'),'00111000000000000110111101000101001010010001001000000000'));
	printf('EE00D40C823060 : %d',assert_string(read_input('EE00D40C823060'),'11101110000000001101010000001100100000100011000001100000'));


	printf('8A004A801A8002F478 :  %d', assert_dint(parse_stream(read_input('8A004A801A8002F478')),16);
	printf('620080001611562C8802118E34 :  %d', assert_dint(parse_stream(read_input('620080001611562C8802118E34')),12);
	printf('C0015000016115A2E0802F182340 :  %d', assert_dint(parse_stream(read_input('C0015000016115A2E0802F182340')),23);
	printf('A0016C880162017C3686B18A3D4780 :  %d', assert_dint(parse_stream(read_input('A0016C880162017C3686B18A3D4780')),31);
END_FUNCTION
